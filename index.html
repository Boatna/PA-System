<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- PWA Support -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#0a0e1a">
    
    <!-- SEO -->
    <meta name="description" content="ระบบประกาศเสียงอัตโนมัติ - Voice Alarm Pro | ตั้งเวลาเล่นเสียงอัตโนมัติ รองรับหลายรายการ และเลือกวันในสัปดาห์">
    <meta name="keywords" content="voice alarm, ระบบประกาศ, เสียงอัตโนมัติ, alarm system, scheduler">
    <meta name="author" content="Voice Alarm Pro">
    
    <title>Voice Alarm Pro - ระบบประกาศเสียงอัตโนมัติ</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Thai:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer">
    
    <!-- Stylesheet -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Background Animation -->
    <div class="bg-animation" aria-hidden="true"></div>

    <!-- Header -->
    <header role="banner">
        <div class="header-left">
            <h1><i class="fas fa-wave-square" aria-hidden="true"></i> Voice Alarm Pro</h1>
            <div class="subtitle">ระบบประกาศเสียงอัตโนมัติ</div>
        </div>
        <div class="header-center">
            <time class="digital-clock" id="clock" aria-live="off">00:00:00</time>
            <div class="digital-date" id="date" aria-live="off">Loading...</div>
        </div>
        <div class="header-right">
            <div class="status-badge" id="statusBadge" role="status" aria-live="polite">
                <span class="status-dot" aria-hidden="true"></span>
                <span id="statusText">STANDBY</span>
            </div>
        </div>
    </header>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Control Panel -->
        <aside class="control-panel glass-panel" role="complementary" aria-label="แผงควบคุม">
            <div class="panel-header">
                <h2><i class="fas fa-sliders-h" aria-hidden="true"></i> CONTROL</h2>
            </div>
            
            <button id="powerBtn" 
                    class="btn btn-power" 
                    onclick="toggleSystem()"
                    aria-label="เปิด/ปิดระบบ">
                <i class="fas fa-power-off" aria-hidden="true"></i>
                <span id="powerText">START SYSTEM</span>
            </button>

            <div class="stats-grid" role="status" aria-label="สถิติ">
                <div class="stat-item">
                    <span class="stat-label">รายการ</span>
                    <span class="stat-value" id="scheduleCount" aria-label="จำนวนรายการทั้งหมด">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">เปิดใช้งาน</span>
                    <span class="stat-value" id="enabledCount" aria-label="จำนวนรายการที่เปิดใช้งาน">0</span>
                </div>
            </div>

            <div class="volume-box">
                <div class="volume-header">
                    <label for="volumeSlider">
                        <i class="fas fa-volume-up" aria-hidden="true"></i>
                        ระดับเสียง
                    </label>
                    <span id="volText" aria-live="polite">100%</span>
                </div>
                <input type="range" 
                       id="volumeSlider" 
                       min="0" 
                       max="1" 
                       step="0.01" 
                       value="1" 
                       oninput="handleVolumeChange(this.value)"
                       aria-label="ปรับระดับเสียง">
            </div>

            <div class="divider" role="separator" aria-hidden="true"></div>

            <div class="manual-section">
                <h3><i class="fas fa-hand-pointer" aria-hidden="true"></i> MANUAL PLAY</h3>
                <div id="manualBoard" class="manual-list" role="group" aria-label="เล่นเสียงด้วยตนเอง"></div>
            </div>
        </aside>

        <!-- Schedule Panel -->
        <main class="schedule-panel glass-panel" role="main">
            <div class="panel-top">
                <div class="next-event-box" role="status" aria-live="polite">
                    <div class="next-label">NEXT EVENT</div>
                    <div class="next-value" id="nextSchedule">--:--</div>
                    <div class="next-countdown" id="nextCountdown">No active schedules</div>
                </div>
                
                <div class="action-buttons" role="toolbar" aria-label="ปุ่มควบคุม">
                    <button class="btn-icon-text" 
                            onclick="addSchedule()"
                            aria-label="เพิ่มรายการใหม่">
                        <i class="fas fa-plus" aria-hidden="true"></i> เพิ่มรายการ
                    </button>
                    <button class="btn-icon" 
                            onclick="exportData()" 
                            title="สำรองข้อมูล"
                            aria-label="สำรองข้อมูล">
                        <i class="fas fa-download" aria-hidden="true"></i>
                    </button>
                    <button class="btn-icon" 
                            onclick="triggerImport()" 
                            title="กู้คืนข้อมูล"
                            aria-label="กู้คืนข้อมูล">
                        <i class="fas fa-upload" aria-hidden="true"></i>
                    </button>
                    <button class="btn-icon danger" 
                            onclick="confirmReset()" 
                            title="ล้างข้อมูลทั้งหมด"
                            aria-label="ล้างข้อมูลทั้งหมด">
                        <i class="fas fa-trash-alt" aria-hidden="true"></i>
                    </button>
                </div>
            </div>

            <div id="scheduleContainer" 
                 class="schedule-list" 
                 role="list" 
                 aria-label="รายการตารางเวลา"></div>
        </main>
    </div>

    <!-- Confirmation Modal -->
    <div id="confirmModal" 
         class="modal-overlay" 
         role="dialog" 
         aria-modal="true" 
         aria-labelledby="modalTitle"
         aria-describedby="modalMessage">
        <div class="modal-content">
            <div class="modal-icon warning" aria-hidden="true">
                <i class="fas fa-exclamation-triangle"></i>
            </div>
            <h3 id="modalTitle">Confirm Action</h3>
            <p id="modalMessage">Are you sure?</p>
            <div class="modal-actions">
                <button class="btn btn-secondary" 
                        onclick="closeModal()"
                        aria-label="ยกเลิก">
                    ยกเลิก
                </button>
                <button class="btn btn-danger" 
                        id="modalConfirmBtn"
                        aria-label="ยืนยัน">
                    ยืนยัน
                </button>
            </div>
        </div>
    </div>

    <!-- Audio Player -->
    <audio id="mainAudioPlayer" 
           preload="metadata" 
           playsinline 
           webkit-playsinline
           aria-label="เครื่องเล่นเสียง"></audio>
    
    <!-- Import File Input -->
    <input type="file" 
           id="importFile" 
           accept=".json,application/json" 
           style="display: none;"
           aria-label="เลือกไฟล์สำรองข้อมูล">

    <!-- Scripts -->
    <script src="script.js"></script>
    
    <!-- No JavaScript Fallback -->
    <noscript>
        <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: #0f172a; color: white; display: flex; align-items: center; justify-content: center; flex-direction: column; gap: 1rem; z-index: 9999; padding: 2rem; text-align: center;">
            <i class="fas fa-exclamation-triangle" style="font-size: 4rem; color: #f59e0b;"></i>
            <h1>JavaScript Required</h1>
            <p>Voice Alarm Pro ต้องการ JavaScript เพื่อทำงาน<br>กรุณาเปิดใช้งาน JavaScript ในเบราว์เซอร์</p>
        </div>
    </noscript>
</body>
</html>
